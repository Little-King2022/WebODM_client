# WebODM 客户端 (v1.3.3)
<img width="1252" height="940" alt="image" src="https://github.com/user-attachments/assets/bad42984-ae9c-4026-82b6-55766fb1b76e" />

一个基于Python和Tkinter的[WebODM](https://github.com/OpenDroneMap/WebODM)客户端，用于批量管理WebODM中的项目和图片拼接任务。

## 功能特性

- 用户认证：连接到 WebODM 服务器并进行用户认证
- 项目管理：查看、创建和管理 WebODM 项目
- 任务管理：在选定项目中创建、查看和管理任务
- 批量操作：支持对多个任务进行批量操作，如下载资源、重启/取消/删除任务等
- 预设参数管理：从 `/api/presets/` 加载预设；创建与重启任务仅发送预设中的选项
- 后台上传：图片上传在后台执行，完成后自动提交开始拼接，界面不阻塞
- 内置进度界面：上传进度融合进“新建任务”对话框，可最小化
- 多对话框并行：支持同时打开多个“新建任务”对话框并行上传
- 凭据缓存：登录成功后缓存用户名与密码，提高后续登录效率（见安全说明）

## 安装要求

- Python 3.6+
- 依赖库：requests, tkinter, pillow 等

## 安装方法

1. 克隆或下载本仓库
2. 安装依赖库：

```bash
pip install -r requirements.txt
```

## 使用方法

1. 运行主程序：

```bash
python main.py
```

2. 在界面中输入 WebODM 服务器地址 (默认为 http://localhost:8000)
3. 点击“登录”按钮，输入用户名和密码（登录成功后会缓存到本地配置）
4. 登录成功后，可以查看和管理项目及任务

## 主要功能说明

### 项目管理

- 查看项目列表：登录后自动加载项目列表
- 创建新项目：点击"新建项目"按钮，输入项目名称和描述
- 选择项目：点击项目列表中的项目，加载该项目的任务列表

### 任务管理

- 查看任务列表：选择项目后自动加载任务列表
- 创建新任务：点击“新建任务”按钮，选择图片文件并选择预设后开始。上传在后台执行，完成后自动提交。上传进度在对话框内显示，对话框支持最小化。可打开多个“新建任务”对话框并行上传。
- 查看任务详情：双击任务列表中的任务，查看详细信息

### 批量操作

- 下载资源：选择一个或多个任务，点击"下载资源"按钮，选择要下载的资源类型和保存目录
- 重启任务：选择一个或多个任务，点击“重启任务”按钮，选择预设后执行；仅发送预设中的选项
- 取消任务：选择一个或多个任务，点击"取消任务"按钮，可以取消待处理或进行中的任务
- 删除任务：选择一个或多个任务，点击"删除任务"按钮，可以删除选中的任务

## 配置文件

程序会在用户主目录下创建 `.webodm_client` 文件夹，用于存储配置信息，包括服务器地址、认证令牌，以及缓存的用户名与密码，以提升后续登录效率。

### 安全说明
- 为提升使用便捷性，默认启用凭据缓存。如不希望缓存密码，可在配置文件中移除 `password` 字段。

## 注意事项

- 本客户端需要连接到运行中的 WebODM 服务器
- 默认服务器地址为 http://localhost:8000，可以在界面中修改
- 下载大型资源文件可能需要较长时间，请确保有足够的磁盘空间

## 应用截图
<img width="300" alt="image" src="https://github.com/user-attachments/assets/5716be72-a5e6-4caf-a394-dba8d07b9334" />
<img width="300" alt="image" src="https://github.com/user-attachments/assets/0a708b1e-7b04-4ab7-ae97-dc3725156c28" />
<img width="300" alt="image" src="https://github.com/user-attachments/assets/b037f80d-c215-43a3-9af5-7c74e8f9b23e" />
<img width="300" alt="image" src="https://github.com/user-attachments/assets/2da04c7a-2f57-43c1-b0d9-a6e12d81ae08" />
